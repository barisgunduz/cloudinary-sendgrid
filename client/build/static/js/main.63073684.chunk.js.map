{"version":3,"sources":["Layout.js","Feedback.js","Home.js","About.js","App.js","index.js"],"names":["Layout","children","Fragment","className","to","Feedback","useState","name","email","message","phone","uploadedFiles","buttonText","uploadPhotosButtonText","values","setValues","process","REACT_APP_API","REACT_APP_CLOUDINARY_CLOUD_NAME","REACT_APP_CLOUDINARY_UPLOAD_SECRET","handleChange","event","target","value","handleSubmit","preventDefault","axios","method","url","data","then","response","success","toast","catch","error","onClick","window","cloudinary","openUploadWidget","cloud_name","upload_preset","tags","result","length","onSubmit","onChange","type","required","Home","Helmet","content","About","App","path","exact","component","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.63073684.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Layout = ({ children }) => (\n    <React.Fragment>\n        <nav>\n            <ul className=\"nav nav-tabs\">\n                <li className=\"nav-item p-3\">\n                    <Link to=\"/\">Home</Link>\n                </li>\n                <li className=\"nav-item p-3\">\n                    <Link to=\"/feedback\">Feedback</Link>\n                </li>\n                <li className=\"nav-item p-3\">\n                    <Link to=\"/about\">About</Link>\n                </li>\n            </ul>\n        </nav>\n        <div className=\"container\">{children}</div>\n    </React.Fragment>\n);\n\nexport default Layout;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport Layout from \"./Layout\";\n\nconst Feedback = () => {\n    const [values, setValues] = useState({\n        name: \"\",\n        email: \"\",\n        message: \"\",\n        phone: \"\",\n        uploadedFiles: [],\n        buttonText: \"Submit\",\n        uploadPhotosButtonText: \"Upload files\",\n    });\n\n    //destructure state variables\n    const {\n        name,\n        email,\n        message,\n        phone,\n        uploadedFiles,\n        buttonText,\n        uploadPhotosButtonText,\n    } = values;\n\n    // destructure env variables\n    const {\n        REACT_APP_API,\n        REACT_APP_CLOUDINARY_CLOUD_NAME,\n        REACT_APP_CLOUDINARY_UPLOAD_SECRET,\n    } = process.env;\n\n    // event handler\n    const handleChange = (name) => (event) => {\n        setValues({ ...values, [name]: event.target.value });\n    };\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        setValues({ ...values, buttonText: \"...sending\" });\n        //send to backend for email\n        // console.table({ name, email, phone, message, uploadedFiles });\n        axios({\n            method: \"POST\",\n            url: `${REACT_APP_API}/feedback`,\n            data: { name, email, phone, message, uploadedFiles },\n        })\n            .then((response) => {\n                // console.log(\"feedback submit response\", response);\n                if (response.data.success)\n                    toast.success(\"Thanks for your feedback\");\n\n                setValues({\n                    ...values,\n                    name: \"\",\n                    phone: \"\",\n                    email: \"\",\n                    message: \"\",\n                    uploadedFiles: \"\",\n                    buttonText: \"Submitted\",\n                    uploadPhotosButtonText: \"Uploaded\",\n                });\n            })\n            .catch((error) => {\n                // console.log(\"feedback submit error\", error.response);\n                if (error.response.data.error) toast.success(\"Try again later\");\n            });\n    };\n\n    const uploadWidget = () => {\n        window.cloudinary.openUploadWidget(\n            {\n                cloud_name: REACT_APP_CLOUDINARY_CLOUD_NAME,\n                upload_preset: REACT_APP_CLOUDINARY_UPLOAD_SECRET,\n                tags: [\"ebooks\"],\n            },\n            function (error, result) {\n                //console.log(result);\n                setValues({\n                    ...values,\n                    uploadedFiles: result,\n                    uploadPhotosButtonText: `${\n                        result ? result.length : 0\n                    } Photos uploaded`,\n                });\n            }\n        );\n    };\n\n    const feedbackForm = () => (\n        <React.Fragment>\n            <div className=\"form-group\">\n                <button\n                    onClick={() => uploadWidget()}\n                    className=\"btn btn-outline-secondary btn-block p-5\"\n                >\n                    {uploadPhotosButtonText}\n                </button>\n            </div>\n            <form onSubmit={handleSubmit}>\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">Description</label>\n                    <textarea\n                        onChange={handleChange(\"message\")}\n                        type=\"text\"\n                        className=\"form-control\"\n                        value={message}\n                        required\n                    ></textarea>\n                </div>\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">Your Name</label>\n                    <input\n                        className=\"form-control\"\n                        type=\"text\"\n                        onChange={handleChange(\"name\")}\n                        value={name}\n                        required\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">Your Email</label>\n                    <input\n                        className=\"form-control\"\n                        type=\"email\"\n                        onChange={handleChange(\"email\")}\n                        value={email}\n                        required\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label className=\"text-muted\">Your Phone</label>\n                    <input\n                        className=\"form-control\"\n                        type=\"number\"\n                        onChange={handleChange(\"phone\")}\n                        value={phone}\n                        required\n                    />\n                </div>\n                <button className=\"btn btn-outline-primary btn-block\">\n                    {buttonText}\n                </button>\n            </form>\n        </React.Fragment>\n    );\n\n    return (\n        <Layout>\n            <ToastContainer />\n            <div className=\"container text-center\">\n                <h1 className=\"p-5\">Feedback Online</h1>\n            </div>\n            <div className=\"container col-md-10 offset-md-1 p-5\">\n                {feedbackForm()}\n            </div>\n        </Layout>\n    );\n};\n\nexport default Feedback;\n","import React from \"react\";\nimport Layout from \"./Layout\";\nimport { Helmet } from \"react-helmet\";\n\nconst Home = () => (\n    <Layout>\n        <Helmet>\n            <title>MERN Stack</title>\n            <meta\n                name=\"description\"\n                content=\"MERN Stack React Cloudinary Sendgrid SSR App\"\n            />\n        </Helmet>\n        <div className=\"container text-center\">\n            <h1 className=\"p-5\">Home</h1>\n            <hr />\n            <p className=\"lead\">\n                loremipsum loremipsum loremipsum loremipsum loremipsum\n                loremipsum loremipsum\n            </p>\n        </div>\n    </Layout>\n);\n\nexport default Home;\n","import React from \"react\";\nimport Layout from \"./Layout\";\n\nconst About = () => (\n    <Layout>\n        <div className=\"container text-center\">\n            <h1 className=\"p-5\">About</h1>\n            <hr />\n            <p className=\"lead\">\n                loremipsum loremipsum loremipsum loremipsum loremipsum\n                loremipsum loremipsum\n            </p>\n        </div>\n    </Layout>\n);\n\nexport default About;\n","import React from \"react\";\nimport Feedback from \"./Feedback\";\nimport Home from \"./Home\";\nimport About from \"./About\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\n\nconst App = () => {\n    return (\n        <BrowserRouter>\n            <Route path=\"/\" exact component={Home} />\n            <Route path=\"/about\" exact component={About} />\n            <Route path=\"/feedback\" exact component={Feedback} />\n        </BrowserRouter>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { render } from \"react-snapshot\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nrender(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}